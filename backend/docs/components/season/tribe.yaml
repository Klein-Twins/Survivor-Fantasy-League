components:
  schemas:
    TribeStatuses:
      type: array
      items:
        $ref: '#/components/schemas/TribeMemberStatusOnEpisode'

    TribeMemberStatusOnEpisode:
      type: object
      required:
        - tribeId
        - tribeMembersEpisodeStart
        - tribeMembersBeforeElimination
        - tribeMembersAtEndOfEpisode
      properties:
        tribeId:
          type: string
          description: The tribe's unique identifier
          format: uuid
          example: '49e27bd8-dc24-4159-9630-e989025bf8fd'
        tribeMembersEpisodeStart:
          $ref: '#/components/schemas/TribeMembership'
        tribeMembersBeforeElimination:
          $ref: '#/components/schemas/TribeMembership'
        tribeMembersAtEndOfEpisode:
          $ref: '#/components/schemas/TribeMembership'

    TribeMembership:
      type: array
      nullable: true
      items:
        $ref: './survivor.yaml#/components/schemas/SurvivorBasic'

    Tribe:
      type: object
      required:
        - id
        - name
        - color
        - seasonId
        - survivors
      properties:
        survivors:
          type: array
          items:
            $ref: './survivor.yaml#/components/schemas/SurvivorBasic'
        seasonId:
          type: string
          description: The season's unique identifier
          example: 47
        id:
          type: string
          description: The tribe's unique identifier
          format: uuid
        name:
          type: string
          description: The tribe's name
          example: 'Luzon'
        color:
          $ref: '../common/color.yaml#/components/schemas/Color'
        isMergeTribe:
          type: boolean
          description: Whether the tribe is a merge tribe
          example: false
        episodeStarted:
          type: string
          nullable: true
          description: The id of the episode the tribe started in
          format: uuid
