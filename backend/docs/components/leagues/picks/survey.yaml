components:
  responses:
    GetSurveyForEpisodeForLeagueMember:
      type: object
      allOf:
        - $ref: '../../common.yaml#/components/schemas/ApiResponse'
        - type: object
          required:
            - responseData
          properties:
            responseData:
              $ref: '#/components/schemas/GetSurveyForEpisodeForLeagueMemberResponseData'
  schemas:
    GetSurveyForEpisodeForLeagueMemberResponseData:
      type: object
      required:
        - leagueSurveys
      properties:
        leagueSurveys:
          type: array
          items:
            $ref: '#/components/schemas/LeagueSurvey'

    SurveyAvailabilityStatusEnum:
      type: string
      enum:
        - 'Available'
        - 'Not Open Yet'
        - 'Closed'

    SurveySubmissionStatusEnum:
      type: string
      enum:
        - 'Not started'
        - 'In progress'
        - 'Completed'
      default: 'Not Started'
      description: The status of the survey filled out by tha profile
      example: 'Not Started'

    LeagueSurvey:
      type: object
      required:
        - leagueSurveyId
        - surveyId
        - episode
        - surveyType
        - picks
      properties:
        leagueSurveyId:
          type: string
          format: uuid
          description: The ID of the league survey
        surveyId:
          type: string
          description: The ID of the survey
          example: '49e27bd8-dc24-4159-9630-e989025bf8fd'
        episode:
          $ref: '../../season/episode.yaml#/components/schemas/Episode'
        surveyType:
          $ref: '#/components/schemas/SurveyType'
        picks:
          type: array
          items:
            $ref: './picks.yaml#/components/schemas/Pick'
        SurveySubmissionStatus:
          $ref: '#/components/schemas/SurveySubmissionStatusEnum'
        SurveyAvailabilityStatus:
          $ref: '#/components/schemas/SurveyAvailabilityStatusEnum'

    SurveyType:
      type: string
      enum: ['Weekly', 'Premier', 'Finale', 'All']
      default: 'All'
      description: The type of survey
      example: 'Weekly'
