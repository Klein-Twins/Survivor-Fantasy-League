components:
  schemas:
    ApiError:
      type: object
      required:
        - statusCode
        - error
        - message
      properties:
        statusCode:
          type: integer
          description: HTTP status code of the error
          example: 400
        error:
          type: string
          description: A short label or type of the error
          example: "Bad Request"
        message:
          type: string
          description: A detailed message explaining the error
          example: "Invalid input, missing required fields."

    BadRequestError:
      allOf:
        - $ref: "#/components/schemas/ApiError"
        - type: object
          properties:
            statusCode:
              type: integer
              example: 400
            error:
              type: string
              example: "Bad Request"
            message:
              example: "The request contains invalid or missing parameters."

    NotFoundError:
      allOf:
        - $ref: "#/components/schemas/ApiError"
        - type: object
          properties:
            statusCode:
              type: integer
              example: 404
            error:
              type: string
              example: "Not Found"
            message:
              example: "The requested resource was not found."

    ConflictError:
      allOf:
        - $ref: "#/components/schemas/ApiError"
        - type: object
          properties:
            statusCode:
              type: integer
              example: 409
            error:
              type: string
              example: "Conflict"
            message:
              example: "The resource already exists or conflicts with another resource."

    UnauthorizedError:
      allOf:
        - $ref: "#/components/schemas/ApiError"
        - type: object
          properties:
            statusCode:
              type: integer
              example: 401
            error:
              type: string
              example: "Unauthorized"
            message:
              example: "Authentication is required or failed."

    ForbiddenError:
      allOf:
        - $ref: "#/components/schemas/ApiError"
        - type: object
          properties:
            statusCode:
              type: integer
              example: 403
            error:
              type: string
              example: "Forbidden"
            message:
              example: "You do not have permission to perform this action."

    InternalServerError:
      allOf:
        - $ref: "#/components/schemas/ApiError"
        - type: object
          properties:
            statusCode:
              type: integer
              example: 500
            error:
              type: string
              example: "Internal Server Error"
            message:
              example: "An unexpected error occurred on the server."

  responses:
    InternalServerError:
      description: Internal Server Error - Unexpected error.
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/InternalServerError"
          examples:
            ServerError:
              $ref: "#/components/examples/ServerError"
    UnauthorizedError:
      description: Unauthorized Error
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/UnauthorizedError"
          examples:
            UnauthorizedError:
              $ref: "#/components/examples/UnauthorizedError"

  examples:
    ServerError:
      summary: "Internal Server Error"
      value:
        statusCode: 500
        error: "Internal Server Error"
        message: "An unexpected error occurred on the server. Please try again later."
    UnauthorizedError:
      summary: "Unauthorized Error"
      value:
        statusCode: 401
        error: "Unauthorized"
        message: "Authentication is required or failed."
